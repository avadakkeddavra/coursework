<!DOCTYPE HTML>
<html>
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
		<title>Highcharts Example</title>
		<link rel="stylesheet" href="style.css">
		<script src="https://code.jquery.com/jquery-3.1.1.min.js"></script>
		<link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,700" rel="stylesheet">
	</head>
	<body>
<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/broken-axis.js"></script>
<script src="theme.js"></script>

  <div class="form">
        <input type="number" name="breakPoints" id="breakPoints" placeholder="Колличество узлов">
        <div class="clear"></div>
        
        <div class="xAxis">
           <p>Значения по Х</p>
            
        </div>
        
        <div class="yAxis">
           <p>Значения по У</p>
            
        </div>
        <div class="clear"></div>
        <button name="submit">Построить график</button>
    </div>

<div id="container"></div>

<script type="text/javascript">
//     var chart = Highcharts.chart('container', {
//        chart:{
//              type: 'line',  
//        },
//         yAxis: {
//             tickInterval : 0.25,
//         },
//         xAxis: {
//             tickInterval : 0.25,
//         },
//         series :[{
//             data: [],
//         }]
//    });
    
	</script>
	<script src="math.js"></script>

	<script>
    $(document).ready(function(){
        $('#breakPoints').on('focusout',function(){
            
            var numberOfBreakpoints = $(this).val();
            $('.xAxis').empty();
            $('.yAxis').empty();
            
            for (var i = 0; i < numberOfBreakpoints; i++)
            {
                $('.xAxis').append('<input type="number" name="X'+i+'" placeholder="x' + i + '">'); 
                $('.yAxis').append('<input type="number" name="Y'+i+'" placeholder="y' + i + '">'); 
            }
            console.log(numberOfBreakpoints);
            $('.xAxis, .yAxis').slideDown();

          
        })
    });
        $(document).ready(function(){
            $('button[name="submit"]').click(function(e){
                e.preventDefault();
                var numberOfBreakpoints = $('#breakPoints').val();
                dataX = [];
                dataY =[];
                for(var i = 0; i < numberOfBreakpoints; i++)
                {
                    dataX[i] = Number($('.xAxis').children('input[name=X'+i+']').val());
                    dataY[i] = Number($('.yAxis').children('input[name=Y'+i+']').val());
                    
                }
                init();
                //dataX = divisionDataX(dataX,25);
               // dataY = divisionDataY(dataY,25);
                setTimeout(function(){
                    initData(dataX,dataY);
                },1000);
                var lag = lagrange(dataX,dataY,1.5);
                console.log(lag);
                
            })
        })
    </script>
			<script>
function builtChart(dataY,dataX){
   chart.series[0].data.length = 0;
     for(var i = 0; i < dataY.length; i++){
         
        chart.series[0].addPoint([
            dataY[i],
            dataX[i],
        ]);
         
    }
     chart.redraw();
    console.log(dataY,dataX);
}
</script>
	</body>
</html>
